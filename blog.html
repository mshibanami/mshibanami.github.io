<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-46019833-3"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-46019833-3');
        </script><link href="/images/favicon-196.png" rel="shortcut icon" type="image/png"/><link href="/images/favicon-196.png" rel="shortcut icon" sizes="196x196"/><link href="/images/favicon-196.png" rel="apple-touch-icon"/><link href="" rel="apple-touch-icon"/><link rel="alternate" type="application/atom+xml" title="Updates" href="/updates.atom"/><meta name="description" content="Personal webpage of Manabu Nakazawa"/><meta property="og:image" content="https://og-image.vercel.app/Manabu%20Nakazawa.png?theme=light&amp;md=0&amp;fontSize=75px&amp;images=https%3A%2F%2Fassets.zeit.co%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><meta name="og:title" content="Manabu Nakazawa"/><meta name="twitter:card" content="summary_large_image"/><title>Blog - <!-- -->Manabu Nakazawa</title><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/61862be1a363b1b3.css" as="style"/><link rel="stylesheet" href="/_next/static/css/61862be1a363b1b3.css" data-n-g=""/><link rel="preload" href="/_next/static/css/19ead1e22734d36e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/19ead1e22734d36e.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-7477d36a73a3487c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a9399bbd4ad37f57.js" defer=""></script><script src="/_next/static/chunks/c16184b3-54e5b14b0246a043.js" defer=""></script><script src="/_next/static/chunks/2cca2479-d8a8bb597246d7ed.js" defer=""></script><script src="/_next/static/chunks/722-7bb6d46ded0412cb.js" defer=""></script><script src="/_next/static/chunks/358-14c60bb94e9d94b9.js" defer=""></script><script src="/_next/static/chunks/pages/blog-429c76e093223149.js" defer=""></script><script src="/_next/static/Rfnfcti57--oHba2CVYSj/_buildManifest.js" defer=""></script><script src="/_next/static/Rfnfcti57--oHba2CVYSj/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="flex flex-col min-h-full"><header class="header-2"><nav class="mx-auto max-w-5xl md:flex px-5 py-3 md:py-4"><div class="flex justify-between items-center"><a class="hover:no-underline" href="/"><h1 class="font-bold text-xl dynamic-text-gray-600 flex items-center m-0 gap-3"><img src="/images/profile.jpg" width="32" height="32" alt="Profile image" class="rounded-full"/>Manabu Nakazawa</h1></a><button id="navbar-toggle" class="border border-solid border-gray-600 px-3 py-2 rounded dynamic-text-gray-600 opacity-50 hover:opacity-75 md:hidden"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars fill-current h-5 w-5" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"></path></svg></button></div><div id="navbar-items" class="hidden md:flex flex-col md:flex-row md:ml-auto mt-3 md:mt-0"><a class="utils_navBarLinkColor__ncdIb px-4 py-2 md:mx-2 rounded transition-colors duration-300" href="/projects">Projects</a><a class="utils_navBarLinkColor__ncdIb px-4 py-2 md:mx-2 rounded transition-colors duration-300" href="/blog">Blog</a></div></nav></header><main class="container mx-auto flex-1 max-w-3xl px-5"><h1>Blog</h1><ul class="utils_list__bbrja"><li class="utils_listItem__XcZSV"><h3><a href="/blog/subscriptions-insert-error">&quot;subscriptions:insert&quot; returns an error</a></h3><p class="dynamic-text-gray-500"><time dateTime="2018-08-23">August 23, 2018</time></p></li><li class="utils_listItem__XcZSV"><h3><a href="/blog/unit-prefixes-by-languages">言語別の数値単位表</a></h3><p class="dynamic-text-gray-500"><time dateTime="2016-02-07">February 7, 2016</time></p></li><li class="utils_listItem__XcZSV"><h3><a href="/blog/gradle-wrapper">Gradle Wrapperを経由せずに実行する</a></h3><p class="dynamic-text-gray-500"><time dateTime="2016-02-07">February 7, 2016</time></p></li><li class="utils_listItem__XcZSV"><h3><a href="/blog/helvetica-neue">Helvetica Neueは数値が等幅</a></h3><p class="dynamic-text-gray-500"><time dateTime="2016-02-03">February 3, 2016</time></p></li><li class="utils_listItem__XcZSV"><h3><a href="/blog/current-shell-name">実行中のシェル名の確認方法を考える</a></h3><p class="dynamic-text-gray-500"><time dateTime="2016-02-02">February 2, 2016</time></p></li><li class="utils_listItem__XcZSV"><h3><a href="/blog/ios-and-mpeg-dash">iOS and MPEG-DASH</a></h3><p class="dynamic-text-gray-500"><time dateTime="2015-11-01">November 1, 2015</time></p></li><li class="utils_listItem__XcZSV"><h3><a href="/blog/first-post">テスト投稿</a></h3><p class="dynamic-text-gray-500"><time dateTime="2015-10-26">October 26, 2015</time></p></li></ul></main><footer><div class="justify-center content-center"><div class="utils_snsLinks__TPLL1"><a href="https://twitter.com/mshibanami"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a href="https://github.com/mshibanami"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="https://www.linkedin.com/in/mshibanami"> <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin fa-2x " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></div></div><p class="text-center">© 2024 Manabu Nakazawa</p></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"allItems":[{"id":"subscriptions-insert-error","contentHtml":"\u003cp\u003eToday I noticed that the \u003ca href=\"https://developers.google.com/youtube/v3/docs/subscriptions/insert\"\u003esubscriptions:insert\u003c/a\u003e method of YouTube Data API V3 returns this error:\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e{\u003c/span\u003e\n \u003cspan\u003e\"error\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003e\"errors\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003e\n   \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003e\"domain\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"youtube.subscription\"\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e\n    \u003cspan\u003e\"reason\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"publisherNotFound\"\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e\n    \u003cspan\u003e\"message\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"The resource specified by the requests \u0026#x3C;code\u003esnippet.resourceId\u0026#x3C;/code\u003e property cannot be found.\"\u003c/span\u003e\n   \u003cspan\u003e}\u003c/span\u003e\n  \u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e\n  \u003cspan\u003e\"code\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e404\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e\n  \u003cspan\u003e\"message\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"The resource specified by the requests \u0026#x3C;code\u003esnippet.resourceId\u0026#x3C;/code\u003e property cannot be found.\"\u003c/span\u003e\n \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThis is the request body that I sent:\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e{\u003c/span\u003e\n \u003cspan\u003e\"snippet\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003e\"resourceId\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n   \u003cspan\u003e\"channelId\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"UCa90xqK2odw1KV5wHU9WRhg\"\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThe above request was valid before. But now, it seems that we need a \u003ccode\u003ekind\u003c/code\u003e\nproperty for \u003ccode\u003esnippet.resourceId\u003c/code\u003e see below:\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e{\u003c/span\u003e\n \u003cspan\u003e\"snippet\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003e\"resourceId\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n   \u003cspan\u003e\"channelId\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"UCa90xqK2odw1KV5wHU9WRhg\"\u003c/span\u003e\u003cspan\u003e,\u003c/span\u003e\n   \u003cspan\u003e\"kind\"\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e \u003cspan\u003e\"youtube#channel\"\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n \u003cspan\u003e}\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIt would appear that subscribing to channels without this step\nis regarded as an invalid request.\u003c/p\u003e\n","textFormat":0,"sourceFileAbsolutePath":"/Users/runner/work/website/website/blog/subscriptions-insert-error.md","outputPath":"blog/subscriptions-insert-error","title":"\"subscriptions:insert\" returns an error","createdAt":"2018-08-23","language":"en"},{"id":"unit-prefixes-by-languages","contentHtml":"\u003cp\u003e先日作った動画プレイヤーアプリには、動画の高評価数・低評価数を表示する機能がある。その評価数は、以下のように適切な単位で表示されるようにしている。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/randomtube-unit-prefix.jpg\" alt=\"prefix\"\u003e\u003c/p\u003e\n\u003cp\u003eこれはYouTubeの公式アプリに倣ったものだ。\u003c/p\u003e\n\u003cp\u003e日本語の場合は、千・万・億・京のいずれかを使うことにしているが、他言語の場合はどうなるのかを示す資料が無かった。\u003c/p\u003e\n\u003cp\u003eなので前にこんな表を作った。\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth align=\"left\"\u003e\u003c/th\u003e\n\u003cth align=\"left\"\u003eEnglish (en)\u003c/th\u003e\n\u003cth align=\"left\"\u003eSpanish (es)\u003c/th\u003e\n\u003cth align=\"left\"\u003eFrench (fr)\u003c/th\u003e\n\u003cth align=\"left\"\u003eGerman (de)\u003c/th\u003e\n\u003cth align=\"left\"\u003eDutch (nl)\u003c/th\u003e\n\u003cth align=\"left\"\u003ePolish (pl)\u003c/th\u003e\n\u003cth align=\"left\"\u003eItalian (it)\u003c/th\u003e\n\u003cth align=\"left\"\u003eJapanese (ja)\u003c/th\u003e\n\u003cth align=\"left\"\u003eChinese (Simplified) (zh-hans)\u003c/th\u003e\n\u003cth align=\"left\"\u003eChinese (Traditional) (zh-hant)\u003c/th\u003e\n\u003cth align=\"left\"\u003eKorean (kr)\u003c/th\u003e\n\u003cth align=\"left\"\u003eVietnamese (vi)\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e100\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e101\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e102\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e103\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003eK\u003c/td\u003e\n\u003ctd align=\"left\"\u003eK\u003c/td\u003e\n\u003ctd align=\"left\"\u003ek\u003c/td\u003e\n\u003ctd align=\"left\"\u003eTsd.\u003c/td\u003e\n\u003ctd align=\"left\"\u003ek\u003c/td\u003e\n\u003ctd align=\"left\"\u003etys.\u003c/td\u003e\n\u003ctd align=\"left\"\u003e?\u003c/td\u003e\n\u003ctd align=\"left\"\u003e千\u003c/td\u003e\n\u003ctd align=\"left\"\u003e千\u003c/td\u003e\n\u003ctd align=\"left\"\u003e千\u003c/td\u003e\n\u003ctd align=\"left\"\u003e천\u003c/td\u003e\n\u003ctd align=\"left\"\u003eN\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e104\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e万\u003c/td\u003e\n\u003ctd align=\"left\"\u003e万\u003c/td\u003e\n\u003ctd align=\"left\"\u003e万\u003c/td\u003e\n\u003ctd align=\"left\"\u003e만\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e105\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e106\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003eM\u003c/td\u003e\n\u003ctd align=\"left\"\u003eM\u003c/td\u003e\n\u003ctd align=\"left\"\u003eM\u003c/td\u003e\n\u003ctd align=\"left\"\u003eMio.\u003c/td\u003e\n\u003ctd align=\"left\"\u003emln.\u003c/td\u003e\n\u003ctd align=\"left\"\u003emln\u003c/td\u003e\n\u003ctd align=\"left\"\u003eMln\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003eTr\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e107\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e108\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e億\u003c/td\u003e\n\u003ctd align=\"left\"\u003e亿\u003c/td\u003e\n\u003ctd align=\"left\"\u003e億\u003c/td\u003e\n\u003ctd align=\"left\"\u003e억\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e109\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003eG\u003c/td\u003e\n\u003ctd align=\"left\"\u003eG\u003c/td\u003e\n\u003ctd align=\"left\"\u003eG\u003c/td\u003e\n\u003ctd align=\"left\"\u003eMrd.\u003c/td\u003e\n\u003ctd align=\"left\"\u003e?\u003c/td\u003e\n\u003ctd align=\"left\"\u003e?\u003c/td\u003e\n\u003ctd align=\"left\"\u003eなし\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003eTỷ\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e1010\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e1011\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e1012\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003eT\u003c/td\u003e\n\u003ctd align=\"left\"\u003eT\u003c/td\u003e\n\u003ctd align=\"left\"\u003eT\u003c/td\u003e\n\u003ctd align=\"left\"\u003eBio.\u003c/td\u003e\n\u003ctd align=\"left\"\u003e?\u003c/td\u003e\n\u003ctd align=\"left\"\u003e?\u003c/td\u003e\n\u003ctd align=\"left\"\u003eなし\u003c/td\u003e\n\u003ctd align=\"left\"\u003e兆\u003c/td\u003e\n\u003ctd align=\"left\"\u003e万亿\u003c/td\u003e\n\u003ctd align=\"left\"\u003e萬億  兆\u003c/td\u003e\n\u003ctd align=\"left\"\u003e조\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e1013\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e1014\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e1015\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003eP\u003c/td\u003e\n\u003ctd align=\"left\"\u003eP\u003c/td\u003e\n\u003ctd align=\"left\"\u003eP\u003c/td\u003e\n\u003ctd align=\"left\"\u003eBrd.\u003c/td\u003e\n\u003ctd align=\"left\"\u003e?\u003c/td\u003e\n\u003ctd align=\"left\"\u003e?\u003c/td\u003e\n\u003ctd align=\"left\"\u003eなし\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\u003cstrong\u003e1016\u003c/strong\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003ctd align=\"left\"\u003e京\u003c/td\u003e\n\u003ctd align=\"left\"\u003e万万亿 (または亿亿)\u003c/td\u003e\n\u003ctd align=\"left\"\u003e萬萬億 (または億億)  京(台湾のみ)\u003c/td\u003e\n\u003ctd align=\"left\"\u003e경\u003c/td\u003e\n\u003ctd align=\"left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003eその時のメモ書き。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eshort scale: Tsd, Mln, Bln, Tln\u003c/li\u003e\n\u003cli\u003elong scale: Tsd, Mln, Mrd, Bln\u003c/li\u003e\n\u003cli\u003e国によってshort scale、long scale共に使われており、そういうところではKやMなどのSI接頭辞を使うっぽい\u003c/li\u003e\n\u003cli\u003eイタリア語は10^9以降が色々解釈出来てしまうので使わないらしい\u003c/li\u003e\n\u003cli\u003e韓国語は억以外の数値単位は使ってない？\u003c/li\u003e\n\u003cli\u003eオランダ語はSI接頭辞とlong scaleが混ざってる？\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eソースを残してなかったので信ぴょう性が薄い。また、地域差もほとんど考慮してないので色々抜けのある資料だ。\u003c/p\u003e\n","textFormat":0,"sourceFileAbsolutePath":"/Users/runner/work/website/website/blog/unit-prefixes-by-languages.md","outputPath":"blog/unit-prefixes-by-languages","title":"言語別の数値単位表","createdAt":"2016-02-07"},{"id":"gradle-wrapper","contentHtml":"\u003cp\u003eGradleでは基本的にGradleラッパーを介してプログラムが実行される。\nしかしこのラッパーはメモリを20MBほど消費し、CPUにも多少負荷をかけている。\nその為、直接プログラムを実行したい。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ebuild.gradle\u003c/code\u003eに下記を書く。\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003eapply plugin\u003cspan\u003e:\u003c/span\u003e\u003cspan\u003e'application'\u003c/span\u003e\nmainClassName \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e\"org.gradle.sample.Main\"\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003ccode\u003eorg.gradle.sample.Main\u003c/code\u003eには、mainメソッドが存在するクラスを指定する。\u003c/p\u003e\n\u003cp\u003eそして次のコマンドを実行する。\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e% gradle clean installDist\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eすると\u003ccode\u003ebuild/install/\u0026#x3C;プログラム名\u003e/bin/\u0026#x3C;プログラム名\u003e\u003c/code\u003e というファイルが作られるのでそれを実行する。\u003c/p\u003e\n\u003cp\u003eここで次のような例外が出た。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eException in thread \"main\" java.lang.ExceptionInInitializerError\nCaused by: java.lang.NullPointerException\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e今までrunなどのGradleのタスクから実行していた時には出なかった例外だ。\u003c/p\u003e\n\u003cp\u003e例外が発生しているのは以下のコード。\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eURL\u003c/span\u003e dirUrl \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eWordReader\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eclass\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003egetClassLoader\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003egetResource\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e\"dir\"\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003eFile\u003c/span\u003e\u003cspan\u003e[\u003c/span\u003e\u003cspan\u003e]\u003c/span\u003e langFiles \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003enew\u003c/span\u003e \u003cspan\u003eFile\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003edirUrl\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003egetPath\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003elistFiles\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\n\u003cspan\u003efor\u003c/span\u003e \u003cspan\u003e(\u003c/span\u003e\u003cspan\u003eFile\u003c/span\u003e f \u003cspan\u003e:\u003c/span\u003e langFiles\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003eSystem\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003eout\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eprintln\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ef\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003egetName\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e例外はfor文の書き出しのところで起きている。\nつまりlangPathsがnullとなっている。\u003c/p\u003e\n\u003cp\u003eこの時、\u003ccode\u003edirUrl\u003c/code\u003eは下記のようになっていた。\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e\u0026#x3C;\u003c/span\u003eプロジェクトルート\u003cspan\u003e\u003e\u003c/span\u003e/build/install/\u003cspan\u003e\u0026#x3C;\u003c/span\u003eプログラム名\u003cspan\u003e\u003e\u003c/span\u003e/lib/\u003cspan\u003e\u0026#x3C;\u003c/span\u003eプログラム名\u003cspan\u003e\u003e\u003c/span\u003e.jar\u003cspan\u003e!\u003c/span\u003e/dir\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eつまり、jarファイル内のdirフォルダを読み込むのに失敗している。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003egradle run\u003c/code\u003eした場合は下記のようになっていた。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u0026#x3C;プロジェクトルート\u003e/build/resources/main/dir\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003ejarファイル内のファイルを読み込むのは簡単だが、フォルダを読み込むのは難しい。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://stackoverflow.com/questions/11012819/how-can-i-get-a-resource-folder-from-inside-my-jar-file\"\u003ehttp://stackoverflow.com/questions/11012819/how-can-i-get-a-resource-folder-from-inside-my-jar-file\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eこれをなるべくコードは汚さず、runでもjarからでも動くようにしたい。\u003c/p\u003e\n\u003cp\u003ejarの外に、jar内にあるリソースファイルと同じもののシンボリックリンクを作り、それを読み込むことにした。\n冗長だし、libフォルダの中に作ることになるので気持ち悪いが、一番コードを汚さず手軽な方法だと思う。\u003c/p\u003e\n\u003cp\u003eまず、\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eURL\u003c/span\u003e dirUrl \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eWordReader\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eclass\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003egetClassLoader\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003egetResource\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e\"dir\"\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eとしていたところを、\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eURL\u003c/span\u003e dirUrl \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003eWordReader\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003eclass\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003egetClassLoader\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e.\u003c/span\u003e\u003cspan\u003egetResource\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003e\u003cspan\u003e\"./dir\"\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eとする。これで、jarからだと、\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u0026#x3C;プロジェクトルート\u003e/build/install/\u0026#x3C;プログラム名\u003e/lib/dir\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eを読み込もうとし、runからだと前述と変わらないパスを読み込もうとする。\u003c/p\u003e\n\u003cp\u003eそして以下のコマンドを実行する。\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e% ./gradlew clean installDist\n% \u003cspan\u003eln\u003c/span\u003e \u003cspan\u003e-s\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e`\u003c/span\u003e\u003cspan\u003epwd\u003c/span\u003e\u003cspan\u003e`\u003c/span\u003e\u003c/span\u003e/build/resources/main/* build/install/プログラム名/lib/\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003einstallDistを実行した時には build/resourcesという、ソースにあるリソースのコピーが作成される。\nその中にある全てのシンボリックリンクをlibフォルダ内に作っている。\u003c/p\u003e\n\u003cp\u003eあとは前述の、生成された起動スクリプトを実行すれば動くはず。\u003c/p\u003e\n\u003ch2\u003eまとめ\u003c/h2\u003e\n\u003cp\u003eメモリをケチってやることでもない。\u003c/p\u003e\n","textFormat":0,"sourceFileAbsolutePath":"/Users/runner/work/website/website/blog/gradle-wrapper.md","outputPath":"blog/gradle-wrapper","title":"Gradle Wrapperを経由せずに実行する","createdAt":"2016-02-07","language":"ja"},{"id":"helvetica-neue","contentHtml":"\u003ch2\u003eまえがき\u003c/h2\u003e\n\u003cp\u003e先日、動画アプリを作った。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/images/randomtube-screenshot.jpg\" alt=\"randomtube-screenshot.jpg\"\u003e\u003c/p\u003e\n\u003cp\u003eシークバーは上のように、左右に経過時間と合計時間がそれぞれ表示されるようになっている。\n経過時間（左時間ラベル）の最大幅はその動画の合計時間の幅にしていて、\n例えば 1:23:45 の動画なら 現在時刻が 0:00 だとしても 1:23:45 の幅を維持されるようになる。\u003c/p\u003e\n\u003cp\u003eなぜ時間幅を単純に Auto Layout で指定しないのかというと、\nもし経過時間によってラベル幅が動的に変わってしまうと、シークバーの幅も変わり、\nつまみを動かしている時につまみがガタガタ動いてしまって目的の位置までスライドできないからだ。\u003c/p\u003e\n\u003ch2\u003e問題\u003c/h2\u003e\n\u003cp\u003eiOS9になってから、この左の経過時間ラベルの表示がおかしくなった。\u003c/p\u003e\n\u003cp\u003e例えば「1:23」という表示が「1:...」のように省略されるようになってしまった。\u003c/p\u003e\n\u003ch2\u003e原因\u003c/h2\u003e\n\u003cp\u003eこれは、iOS 8 までで使われていた Helvetica Neue で通用していた経過時間の最大幅の決定方法が、\niOS 9から新たにシステムフォントとなった San Francisco では通用しなくなったのが原因だ。\u003c/p\u003e\n\u003cp\u003eHelvetica Neue はプロポーショナルフォントだが、数値だけは等幅だ。\nその為、例えば1:23:45の最大幅を決める為に、どの文字が一番大きいかなど考える必要がなく、\n単に1:23:45を最大幅と考えることが出来た。\u003c/p\u003e\n\u003cp\u003e一方 San Francisco では、数値もプロポーショナルフォントとなっている。\nしかも、サイズと太さの組み合わせによって、0が一番大きかったり8が一番大きかったりする。\u003c/p\u003e\n\u003cp\u003eその為、もし0が一番大きい場合、合計時間が 1:23:45 なら 00:00:00 の文字幅を取れば良い。\u003c/p\u003e\n\u003cp\u003eそもそも San Francisco ほどに違わないとしても、数値がプロポーショナルフォントというのは\n全く珍しくない。デザイン重視のAppleが一般ユーザーの目に触れるフォントとして採用していた\nフォントが等幅だった方が変だったと思う。\u003c/p\u003e\n\u003cp\u003eでも無印Helveticaでさえ1だけは幅が狭いので、あえて等幅が選ばれた理由は何かあるっぽい。\u003c/p\u003e\n\u003ch2\u003e解決方法\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eHelvetica Neueにする\u003c/p\u003e\n\u003cp\u003e一番楽な解決方法。\u003c/p\u003e\n\u003cp\u003eでも一般ユーザーの目に触れるものを等幅にしたくない。\nまた、San Franciscoは時間を表す時に使う「:」の位置も前後の文字によって動的に変わったりと、表示の美しさにこだわってるのでなるべくそっちを使いたい。\u003c/p\u003e\n\u003cp\u003eなので却下。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eSan Franciscoの等幅モードを使う\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eUIFont\u003c/code\u003e には \u003ccode\u003e+ monospacedDigitSystemFontOfSize:weight:\u003c/code\u003e というメソッドがあり、San Francisco でも等幅になる。\u003c/p\u003e\n\u003cp\u003eただ、太さによっては\u003ca href=\"https://forums.developer.apple.com/thread/19671\"\u003eこのメソッドが効かないとかいう話\u003c/a\u003eがあったりするし、\nIBの設定だけで有効には出来ないし、アルファベットまで等幅になるし、そもそも等幅は嫌だしで却下。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e一番幅広の文字をあらかじめ調べてハードコーディングしておく\u003c/p\u003e\n\u003cp\u003e柔軟性は無いが、フォントサイズがあらかじめ分かっていて、そのフォントが動的に変わるわけでなければこれで十分。\u003c/p\u003e\n\u003cp\u003e今回はこれにした。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eサイズと太さによって数値文字の幅を動的に決定する\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eNSString\u003c/code\u003eの\u003ccode\u003e- sizeWithAttributes:\u003c/code\u003eで一番幅広の文字を探しておき、それを使う。\u003c/p\u003e\n\u003cp\u003e多少のコードが必要になるがフォントの変更に柔軟に対応できる。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n","textFormat":0,"sourceFileAbsolutePath":"/Users/runner/work/website/website/blog/helvetica-neue.md","outputPath":"blog/helvetica-neue","title":"Helvetica Neueは数値が等幅","createdAt":"2016-02-03","language":"ja"},{"id":"current-shell-name","contentHtml":"\u003ch2\u003eまえがき\u003c/h2\u003e\n\u003cp\u003e去年の12月、Facebookの\u003ca href=\"https://github.com/facebook/infer\"\u003eInfer\u003c/a\u003eがHomebrewに追加されたことを知った。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/Homebrew/homebrew/commits/master/Library/Formula/infer.rb\"\u003ehttps://github.com/Homebrew/homebrew/commits/master/Library/Formula/infer.rb\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eInferはOCamlで書かれているが、そのバージョン指定が厳しくてHomebrewになかなか出せないとかいう話があった。\u003c/p\u003e\n\u003cp\u003eFacebookは最初、ビルド済みのバイナリを公開してくれていて、Homebrew-caskの方ではそれが使われていた。\nHomebrewでも同じくバイナリを使ったサポートをしようとしてたけど、バイナリがいつの間にか消されててできなくなっていた。\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/Homebrew/homebrew/pull/40597\"\u003ehttps://github.com/Homebrew/homebrew/pull/40597\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eその時自分は、じゃあ自分でビルドしようと思い、OCamlを入れてみた。\u003c/p\u003e\n\u003cp\u003eopamの起動スクリプトは各シェル用のものがあった。\n何もしてないとインストール時にその読み込み設定がログインシェルの.*shrcに書かれる。\n自分の場合は.zshrcに以下が書かれた。\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003e.\u003c/span\u003e /Users/ユーザー名/.opam/opam-init/init.zsh \u003cspan\u003e\u003e\u003c/span\u003e /dev/null \u003cspan\u003e\u003cspan\u003e2\u003c/span\u003e\u003e\u003c/span\u003e /dev/null \u003cspan\u003e||\u003c/span\u003e \u003cspan\u003etrue\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eまた、\u003ccode\u003e~/.opam/opam-init/\u003c/code\u003eには他にも\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003einit.fish\u003c/li\u003e\n\u003cli\u003einit.sh\u003c/li\u003e\n\u003cli\u003einit.zsh\u003c/li\u003e\n\u003cli\u003einit.csh\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eがあった。(bashはない。)\n各シェルの.*shrcにこれらを書いてもいいけど設定が分散するのは嫌だ。\nなので実行中のシェル名を見てこれらを分ける処理を共通の.shrcに書きたい。\nそこで現在実行中のシェル名が欲しくなった。\u003c/p\u003e\n\u003ch2\u003e案1: \u003ccode\u003eecho $0\u003c/code\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e実行中スクリプトのパス。\u003c/li\u003e\n\u003cli\u003eシェル名が表示されるのはシェルと対話中の時だけ\u003c/li\u003e\n\u003cli\u003efish-shellやcsh、tcshでは$0は設定されてない\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e案2: \u003ccode\u003eps -p $$ -oargs= | sed -e 's:^.*/::g'\u003c/code\u003e\u003c/h2\u003e\n\u003ch3\u003e内訳\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e$$は現在のプロセス名\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003esedで不要な出力を無文字に置換で削除\u003c/p\u003e\n\u003cp\u003esedでは普通、\u003ccode\u003es/パターン/置換文字/m\u003c/code\u003eのようにスラッシュ区切りで使われるが、今回扱う文字にはパスが含まれる為\u003ccode\u003e:\u003c/code\u003eを使う。\nこの場合は一番下の行の最初から一番最後のスラッシュまでを削除する。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eoargsはocommとすることも出来る\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e問題点\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e$$はfish-shellでは使えない\u003c/li\u003e\n\u003cli\u003ecsh や tcsh ではプロセス名がそれぞれ \u003ccode\u003e-sh\u003c/code\u003e と \u003ccode\u003e-csh\u003c/code\u003e となり、先頭の文字が消されてしまう。\nハイフンが付いてるだけならまだしも、全く別のシェルとして表示されるのは困る。おそらくバグ。\n\u003ccode\u003e-\u003c/code\u003eを\u003ccode\u003et\u003c/code\u003eに置換すれば可能だがそういう場当たり的対処は後で修正された時が面倒。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e案3: \u003ccode\u003eps -p %self -oargs= | sed -e 's:^.*/::g'\u003c/code\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e%self\u003c/code\u003eはfish-shellでしか使えない\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e案4: \u003ccode\u003eecho $SHELL | sed -e 's:^.*/::g'\u003c/code\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ecshやtcshでは使えない\u003c/li\u003e\n\u003cli\u003eシェルのネストに対応できない\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e案5: \u003ccode\u003eecho $shell\u003c/code\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ecshやtcsh以外では使えない\u003c/li\u003e\n\u003cli\u003ecshでもtcshになる。OSXの/bin/cshは/bin/tcshを呼び出してるので当然だが。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e以上から、1つのコードでsh、bash、zsh、fish、csh、tcshシェルを判定したい。\nしかしcsh系とその他では以下if文とエラー出力の無視という点が他と異なるので無理と判断。\ncshとtcshは諦めた。sh、bash、zshでこんな感じにして妥協しようか。\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003eshellName\u003c/span\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e$(\u003c/span\u003e\u003cspan\u003eps\u003c/span\u003e \u003cspan\u003e-p\u003c/span\u003e $$ \u003cspan\u003e-oargs\u003c/span\u003e\u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e\u003cspan\u003e2\u003c/span\u003e\u003e\u003c/span\u003e /dev/null\u003cspan\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003eif\u003c/span\u003e \u003cspan\u003e[\u003c/span\u003e \u003cspan\u003e-z\u003c/span\u003e \u003cspan\u003e\"\u003cspan\u003e$shellName\u003c/span\u003e\"\u003c/span\u003e \u003cspan\u003e]\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e \u003cspan\u003ethen\u003c/span\u003e\u003cspan\u003e;\u003c/span\u003e\n  \u003cspan\u003eshellName\u003c/span\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e$(\u003c/span\u003e\u003cspan\u003eps\u003c/span\u003e \u003cspan\u003e-p\u003c/span\u003e %self \u003cspan\u003e-oargs\u003c/span\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan\u003e#fish-shell用\u003c/span\u003e\n\u003cspan\u003efi\u003c/span\u003e\n\u003cspan\u003eshellName\u003c/span\u003e\u003cspan\u003e=\u003c/span\u003e\u003cspan\u003e\u003cspan\u003e$(\u003c/span\u003e\u003cspan\u003eecho\u003c/span\u003e $shellName \u003cspan\u003e|\u003c/span\u003e \u003cspan\u003esed\u003c/span\u003e \u003cspan\u003e-e\u003c/span\u003e \u003cspan\u003e's:^.*/::g'\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan\u003eecho\u003c/span\u003e \u003cspan\u003e\"シェル名: \u003cspan\u003e$shellName\u003c/span\u003e\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eなんか小汚いしどうでも良くなってきた。今は\u003ccode\u003e.*shrc\u003c/code\u003eへそれぞれ書いてる。でも何か方法は無いだろうか。\u003c/p\u003e\n\u003cp\u003e参考:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://stackoverflow.com/questions/3327013/how-to-determine-the-current-shell-im-working-on\"\u003ehttp://stackoverflow.com/questions/3327013/how-to-determine-the-current-shell-im-working-on\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","textFormat":0,"sourceFileAbsolutePath":"/Users/runner/work/website/website/blog/current-shell-name.md","outputPath":"blog/current-shell-name","title":"実行中のシェル名の確認方法を考える","createdAt":"2016-02-02","language":"ja"},{"id":"ios-and-mpeg-dash","contentHtml":"\u003cp\u003eThe other day, I created a YouTube app for iOS.\nAnd I tried to get my app to play 1080p videos from YouTube.\nBut it was not easy.\u003c/p\u003e\n\u003cp\u003eYouTube does not provide 1080p or higher resolution videos in the HLS format.\nCurrently, They only provide it in the MPEG-DASH format.\nBut iOS does not support MPEG-DASH, only HLS.\u003c/p\u003e\n\u003cp\u003eI tried to find a third party library. But I couldn't find any good ones.\u003c/p\u003e\n\u003cp\u003eSo I sent a feature request to enable support from MPEG-DASH to Apple a year ago.\nAnd finally, I got the answer from them yesterday.\u003c/p\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003eHi Manabu,\nThis is a courtesy email regarding Bug ID# 19279150.\nEngineering has the following feedback for you:\nWe checked with YouTube and this was their response:\n“If the content is available in 1080p in DASH, it should be available in 1080p in HLS, both in the YouTube native app, and also via the HLS experiment Safari”\nSo, this is something we have no plans to address as the entire YouTube DASH-encoded catalog is also available on iOS.\nWe are now closing this bug report.\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eBut actually, It looks like 1080p videos in the HLS are not available.\u003c/p\u003e\n\u003cp\u003eIt probably means YouTube is preparing for 1080p HLS videos now.\nI hope that day will soon come.\u003c/p\u003e\n","textFormat":0,"sourceFileAbsolutePath":"/Users/runner/work/website/website/blog/ios-and-mpeg-dash.md","outputPath":"blog/ios-and-mpeg-dash","title":"iOS and MPEG-DASH","createdAt":"2015-11-01","language":"en"},{"id":"first-post","contentHtml":"\u003cp\u003eテスト投稿 - 本文\u003c/p\u003e\n\u003ch3\u003eScala\u003c/h3\u003e\n\u003cdiv\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan\u003edef\u003c/span\u003e hasA\u003cspan\u003e(\u003c/span\u003es\u003cspan\u003e:\u003c/span\u003e\u003cspan\u003eString\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e\u003cspan\u003e:\u003c/span\u003e\u003cspan\u003eBoolean\u003c/span\u003e \u003cspan\u003e=\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n  \u003cspan\u003efor\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003ei \u003cspan\u003e\u0026#x3C;-\u003c/span\u003e \u003cspan\u003e0\u003c/span\u003e until s\u003cspan\u003e.\u003c/span\u003elength\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e{\u003c/span\u003e\n    \u003cspan\u003eif\u003c/span\u003e\u003cspan\u003e(\u003c/span\u003es\u003cspan\u003e(\u003c/span\u003ei\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003e==\u003c/span\u003e \u003cspan\u003e'a'\u003c/span\u003e\u003cspan\u003e)\u003c/span\u003e \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003etrue\u003c/span\u003e\n  \u003cspan\u003e}\u003c/span\u003e\n  \u003cspan\u003ereturn\u003c/span\u003e \u003cspan\u003efalse\u003c/span\u003e\n\u003cspan\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n","textFormat":0,"sourceFileAbsolutePath":"/Users/runner/work/website/website/blog/first-post.md","outputPath":"blog/first-post","title":"テスト投稿","createdAt":"2015-10-26","language":"ja"}]},"__N_SSG":true},"page":"/blog","query":{},"buildId":"Rfnfcti57--oHba2CVYSj","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>